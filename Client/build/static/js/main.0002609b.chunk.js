(this.webpackJsonpstackbro=this.webpackJsonpstackbro||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(13),o=n.n(s),i=n(15),u=n(1),c=n.n(u),l=n(7),h=n(2),m=n(3),p=n(5),f=n(4),d=n(6),b=n(8),v=n(10),E=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={title:"",desc:"",answers:[]},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_URL,"/newquestion"),{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({title:this.state.title,desc:this.state.desc})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("Here's the response: ",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{placeholder:"Write a title here",name:"title",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("input",{placeholder:"Write your question here",name:"desc",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("button",{onClick:function(t){return e.onSubmit()}},"Ask Question"))}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({id:this.props.data},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/api/questions/".concat(this.state.id),{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({id:this.state.id,answer:this.state.answer})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("Here's the response: ",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Post New Answer"),r.a.createElement("input",{autoComplete:"off",name:"answer",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("button",{onClick:function(t){return e.onSubmit()}},"Send Answer"))}}]),t}(a.Component),g=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={id:n.props.id},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"submit",value:function(e){var t=this;this.setState({answer:e},(function(){t.props.submitAnswer(t.state.answer,t.state.id)}))}},{key:"addVote",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/api/vote/",{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({answerId:t,vote:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,console.log("Here's the response: ",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.getQuestion(this.props.id),n=r.a.createElement("p",null,"Loading...");return t&&(n=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.question),r.a.createElement("div",{id:"newAnswer"},r.a.createElement(j,{data:this.state.id})),r.a.createElement("h3",null,"Answers"),r.a.createElement("ul",{id:"questions"},t.answers.map((function(t){return r.a.createElement("li",{className:"clearfix",key:t._id},r.a.createElement("p",null,t.text),r.a.createElement("div",{className:"voting"},r.a.createElement("button",{className:"upvote",onClick:function(){e.addVote(t._id,"up")}},"Upvote"),r.a.createElement("p",null,t.votes),r.a.createElement("button",{className:"downvote",onClick:function(){e.addVote(t._id,"down")}},"Downvote")))}))),r.a.createElement(b.a,{to:"/",className:"back"},"Back"))),n}}]),t}(a.Component),y=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(b.a,{to:"/question/".concat(e._id)},e.title))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"All questions"),r.a.createElement("ul",null,e))}}]),t}(a.Component),k=(n(28),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={questions:[]},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getQuestions().then((function(){return console.log("Questions gotten!")}))}},{key:"getQuestions",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.API_URL,"/questions"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",this.setState({questions:a}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuestion",value:function(e){return this.state.questions.find((function(t){return t._id===e}))}},{key:"submit",value:function(e,t,n){var a={id:this.state.questions[this.state.questions.length-1].id+1,title:e,question:t,answers:n};this.setState({questions:[].concat(Object(i.a)(this.state.questions),[a])})}},{key:"submitAnswer",value:function(e,t){console.log(e,t);var n=this.state.questions.find((function(e){return e.id===parseInt(t)}));n.answers.unshift(e),console.log(n)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement(b.a,{to:"/"},r.a.createElement("li",null,"Questions")),r.a.createElement(b.a,{to:"/ask"},r.a.createElement("li",null,"Ask a question")))),r.a.createElement(b.b,null,r.a.createElement(E,{path:"/ask",submit:function(t,n,a){return e.submit(t,n,a)}}),r.a.createElement(g,{path:"/question/:id",getQuestion:function(t){return e.getQuestion(t)},submitAnswer:function(t,n){return e.submitAnswer(t,n)}}),r.a.createElement(y,{path:"/",data:this.state.questions})))}}]),t}(a.Component));o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.0002609b.chunk.js.map